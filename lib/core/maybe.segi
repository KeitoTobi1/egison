;;;;;
;;;;;
;;;;; Maybe (Option)
;;;;;
;;;;;

(define $maybe
  (lambda [$a]
    (matcher
      {[<nothing> []
        {[<Nothing> {[]}]
         [_ {}]}]
       [<just $> [a]
        {[<Just $x> {x}]
         [_ {}]}]
       [$ [something]
        {[$tgt {tgt}]}]
       })))

;(match-all <Just 1> (maybe integer) [<nothing> "error"]) ; {}
;(match-all <Just 1> (maybe integer) [<just $x> x]) ; {1}
